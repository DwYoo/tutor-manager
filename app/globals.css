@import "tailwindcss";

@theme {
  /* ── Surface ── */
  --color-bg: #FAFAF9;
  --color-sf: #FFFFFF;
  --color-sfh: #F5F5F4;

  /* ── Border ── */
  --color-bd: #E7E5E4;
  --color-bl: #F0EFED;

  /* ── Brand ── */
  --color-pr: #1A1A1A;
  --color-ac: #2563EB;
  --color-ach: #1D4ED8;
  --color-al: #DBEAFE;
  --color-as: #EFF6FF;

  /* ── Text (WCAG AA compliant) ── */
  --color-tp: #1A1A1A;
  --color-ts: #57534E;
  --color-tt: #6B7280;
  --color-tph: #A3A3A3;

  /* ── Status ── */
  --color-su: #16A34A;
  --color-sb: #F0FDF4;
  --color-dn: #DC2626;
  --color-db: #FEF2F2;
  --color-wn: #F59E0B;
  --color-wb: #FFFBEB;
  --color-lo: #EA580C;
  --color-lob: #FFF7ED;

  /* ── Shadows ── */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 12px 32px rgba(0, 0, 0, 0.12);
  --shadow-xl: 0 20px 60px rgba(0, 0, 0, 0.15);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  overflow-x: hidden;
}

body {
  font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
  background: var(--color-bg);
  color: var(--color-tp);
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  padding-bottom: env(safe-area-inset-bottom);
}

button, a {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0.06);
  touch-action: manipulation;
}

input, textarea, select {
  font-size: 16px; /* Prevents iOS zoom on focus */
  touch-action: manipulation;
}

@media (min-width: 768px) {
  input, textarea, select {
    font-size: inherit;
  }
}

/* ── Focus visible ── */
:focus-visible {
  outline: 2px solid var(--color-ac);
  outline-offset: 2px;
  border-radius: 4px;
}

button:focus-visible,
a:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid var(--color-ac);
  outline-offset: 2px;
}

/* ── Scrollbar ── */
::-webkit-scrollbar {
  width: 6px;
}
::-webkit-scrollbar-thumb {
  background: var(--color-bd);
  border-radius: 3px;
}

@media (max-width: 768px) {
  ::-webkit-scrollbar {
    width: 0;
    height: 0;
  }
}

/* ── Animations ── */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.animate-fadeIn {
  animation: fadeIn 0.3s ease;
}

/* ── Login card ── */
@keyframes slideUp {
  from { opacity: 0; transform: translateY(16px); }
  to { opacity: 1; transform: translateY(0); }
}
.login-card {
  animation: slideUp 0.4s ease;
}

/* ── Hover card utility ── */
.hcard {
  transition: all 0.12s ease;
}
.hcard:hover {
  background: var(--color-sfh) !important;
}

/* ── Responsive shell ── */
@media (min-width: 1024px) {
  .menu-toggle { display: none !important; }
  .mobile-nav { display: none !important; }
  .desktop-sidebar { display: block !important; }
  .main-content-area { padding-bottom: 0 !important; }
}

@media (max-width: 1023px) {
  .mobile-nav { display: flex !important; }
  .app-root { height: auto !important; overflow: visible !important; }
}

/* ── Sidebar items ── */
.sb-item {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  padding: 11px 16px;
  border-radius: 12px;
  border: none;
  font-size: 13px;
  cursor: pointer;
  font-family: inherit;
  margin-bottom: 2px;
  transition: all 0.15s;
  background: transparent;
  color: var(--color-ts);
  font-weight: 400;
}
.sb-item:hover {
  background: var(--color-sfh);
}
.sb-item.active {
  background: var(--color-as);
  color: var(--color-ac);
  font-weight: 600;
}
.sb-item.active svg {
  stroke: var(--color-ac);
}

/* ── Dashboard responsive ── */
@media (max-width: 768px) {
  .dash-main { grid-template-columns: 1fr !important; }
  .main-pad, .dash-container { padding: 16px !important; }
  .stu-container { padding: 16px !important; }
  .stu-grid { grid-template-columns: 1fr !important; }
  .stu-search { width: 100% !important; }
}

/* ── Mobile modal: full-screen on small devices ── */
@media (max-width: 640px) {
  .detail-modal {
    max-width: 100vw !important;
    max-height: 100vh !important;
    height: 100dvh !important;
    border-radius: 0 !important;
    width: 100% !important;
  }
}

/* ── Mobile-friendly table wrapper ── */
@media (max-width: 768px) {
  .table-scroll {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
}

/* ── Hide lesson titles on mobile in mini calendars ── */
@media (max-width: 768px) {
  .cal-lesson-text {
    display: none !important;
  }
  .cal-cell {
    min-height: 52px !important;
  }
}
